<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Player - KH-DONGHUA</title>
    <link rel="stylesheet" href="videoPlayer.css">
    <link rel="icon" href="https://firebasestorage.googleapis.com/v0/b/kh-donghua.appspot.com/o/logo%2F_1.png?alt=media&token=68dbeae7-cf66-4fe8-b273-6f2619faffb0">
    <script type="module" src="videoPlayer.js" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" rel="stylesheet">
     <style>
       .carousel {
            position: relative;
            width: 100%;
            max-width: 100%;
            overflow: hidden; /* Ensure the overflow is hidden */
            margin: 0 auto;
            
        }
        .carousel-images {
            display: flex;
            transition: transform .5s ease-in-out;
            
        }
        .carousel-images img {
            width: 100%;
            height: auto;
            object-fit: cover;
            flex-shrink: 0; /* Prevent shrinking */
        }
        .prev,
        .next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            font-size: 20px;
            padding: 8px 12px;
            border: none;
            cursor: pointer;
            z-index: 1;
            border-radius: 50%; /* Round buttons */
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .prev {
            left: 10px;
        }
        .next {
            right: 10px;
        }
        .prev:hover,
        .next:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
        /* Add smooth transition */
        .carousel-images {
            transition: transform 0.5s ease-in-out;
        }
    </style> 
</head>
<body class="dark-mode">
<div class="container">
    <header>
        <a href="index.html" class="logo">
            <img src="https://firebasestorage.googleapis.com/v0/b/kh-donghua.appspot.com/o/logo%2F_1.png?alt=media&token=68dbeae7-cf66-4fe8-b273-6f2619faffb0" alt="KH-DONGHUA Logo" class="logo-img">
            KH-DONGHUA
        </a>
        <div class="bx bx-menu" id="menu-icon"></div>
        <ul class="navbar">
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#playlists">Playlists</a></li>
            <li><a href="index.html#anime">Anime</a></li>
            <li><a href="index.html#donghua">Donghua</a></li>
            <li><a href="index.html#trailer">Trailer</a></li>
        </ul>
        <div class="header-buttons">
            <i class="bx bx-moon bx-sm" id="toggleDarkMode"></i>
        </div>
    </header>
    <br>
    <main>
        <div class="carousel">  
            <div class="carousel-images">  
                <img src="./image/image1.jpg" alt="Image 1">  
                <img src="./image/image2.jpg" alt="Image 2">  
                <img src="./image/image3.jpg" alt="Image 3">  
            </div>  
            <button class="prev" onclick="moveSlide(-1)">&#10094;</button>  
            <button class="next" onclick="moveSlide(1)">&#10095;</button>  
        </div> 
        <br> 
        <div class="video-section">
            <div class="breadcrumb">
                <a href="index.html">Home</a> › <a href="#" id="playlistTitle">Playlist Title</a> › <span id="episodeTitle">Episode Title</span>
            </div>
            <div class="video-info">
                <h2 id="videoTitle">Video Title</h2>
                <div id="clock"></div>
                <br><!-- Digital clock will be displayed here -->
                <div id="videoPlayerContainer"></div>
                <div id="videoDescription" class="description">Video Description</div>
            </div>
            <div class="video-controls">
                <button id="prevEpisodeBtn"><i class='bx bx-skip-previous'></i></button>
                <button id="allEpisodesBtn"><i class='bx bx-list-ul'></i></button>
                <button id="nextEpisodeBtn"><i class='bx bx-skip-next'></i></button>
                <button id="fullscreenBtn"><i class='bx bx-fullscreen'></i></button>
            </div>
        </div>
        <aside class="related-videos">
            <h3>Related Episodes</h3>
            <div class="related-videos-container">
                <ul id="relatedVideosList">
                    <!-- Related videos will be dynamically populated here -->
                </ul>
            </div>
        </aside>
    </main>
</div>
<div id="allEpisodesPopup" class="popup">
    <div class="popup-content">
        <button class="close-popup" id="closeAllEpisodesPopup">&times;</button>
        <h3>All Episodes</h3>
        <ul id="allEpisodesList">
            <!-- All episodes will be dynamically populated here -->
        </ul>
    </div>
</div>
<script src="https://www.youtube.com/iframe_api"></script>
<script src="clock.js" defer></script> <!-- Include clock.js -->
<script>
 let slideIndex = 0;

function showSlide(index) {
    const slides = document.querySelectorAll('.carousel-images img');
    if (index >= slides.length) {
        slideIndex = 0;
    } 
    if (index < 0) {
        slideIndex = slides.length - 1;
    }

    const offset = -slideIndex * 100; // Calculate offset percentage
    document.querySelector('.carousel-images').style.transform = `translateX(${offset}%)`;
}

function moveSlide(n) {
    slideIndex += n;
    showSlide(slideIndex);
}

// Auto-slide every 5 seconds
setInterval(() => {
    moveSlide(1);
}, 5000);

// Initialize carousel
showSlide(slideIndex);
</script>
</body>
</html>
